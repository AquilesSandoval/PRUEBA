# üìë C√ìDIGO LISTO PARA COPIAR

## Este documento contiene TODO el c√≥digo necesario para implementar las optimizaciones

---

## 1Ô∏è‚É£ ARCHIVO CSS UNIFICADO

**Archivo:** `dist/styles.min.css` (801KB)

‚úÖ **YA CREADO** - El archivo ya existe en tu proyecto en `/dist/styles.min.css`

Este archivo contiene todos los 37 archivos CSS combinados y minificados.

---

## 2Ô∏è‚É£ ARCHIVO JAVASCRIPT UNIFICADO

**Archivo:** `dist/app.min.js` (2.6MB)

‚úÖ **YA CREADO** - El archivo ya existe en tu proyecto en `/dist/app.min.js`

Este archivo contiene todos los 26 scripts personalizados combinados y minificados.

---

## 3Ô∏è‚É£ PLANTILLA HTML ACTUALIZADA

### Para: `ATLETAS/Atletas INICIO.html`

**Copiar esta secci√≥n `<head>` completa:**

```html
<!DOCTYPE html>
<html lang="ES-es">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Aiym Panel :: AIYM YUC</title>
    <meta content="width=device-width, initial-scale=1.0, shrink-to-fit=no" name="viewport">
    <link rel="icon" type="image/png" href="https://app.allinyourmind.es/web/require/img/favicon-32x32.png">
    
    <!-- CSRF -->
    <meta name="csrf-param" content="_csrf">
    <meta name="csrf-token" content="qeTO_aWLjbETepS4bucKFUCRlVMcpEWHDj5OuEbhPn7d3aSF1ty6_0Uj9-Eiv2NjdaHCNGnTDd4jcwfUDZQHHQ==">
    
    <!-- CSS Unificado - UN SOLO ARCHIVO -->
    <link rel="stylesheet" href="../dist/styles.min.css">
</head>
```

**Copiar esta secci√≥n de scripts antes de `</body>`:**

```html
    <!-- Librer√≠as desde CDN -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.min.js" integrity="sha256-lSjKY0/srUM9BE3dPm+c4fBo1dky2v27Gdjm2uoZaL0=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap4-toggle@3.6.1/js/bootstrap4-toggle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.scrollbar/0.2.11/jquery.scrollbar.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/alertify.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.10.0/dist/sweetalert2.all.min.js"></script>
    
    <!-- Scripts locales necesarios de Yii Framework -->
    <script src="../assets/yii.js.descarga"></script>
    <script src="../assets/yii.validation.js.descarga"></script>
    <script src="../assets/yii.activeForm.js.descarga"></script>
    <script src="../assets/yii.gridView.js.descarga"></script>
    <script src="../assets/atlantis2.min.js.descarga"></script>
    <script src="../assets/bootstrap-notify.min.js.descarga"></script>
    
    <!-- JavaScript de aplicaci√≥n unificado - UN SOLO ARCHIVO -->
    <script src="../dist/app.min.js"></script>
</body>
</html>
```

---

## 4Ô∏è‚É£ PLANTILLA PARA index.html (RA√çZ)

**Copiar esta secci√≥n `<head>` completa:**

```html
<!DOCTYPE html>
<html lang="ES-es">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Aiym Panel :: AIYM YUC</title>
    <meta content="width=device-width, initial-scale=1.0, shrink-to-fit=no" name="viewport">
    <link rel="icon" type="image/png" href="https://app.allinyourmind.es/web/require/img/favicon-32x32.png">
    
    <!-- CSRF -->
    <meta name="csrf-param" content="_csrf">
    <meta name="csrf-token" content="5AFOAf9sAY8K1M-cf3EeNsPe-SDCV59xly26XHYh9AiQOCR5jDs2wVyNrMUzKXdA9u6uR7cg1yi6YPMwPVTNaw==">
    
    <!-- CSS Unificado -->
    <link rel="stylesheet" href="dist/styles.min.css">
</head>
```

**Copiar esta secci√≥n de scripts antes de `</body>`:**

```html
    <!-- Librer√≠as desde CDN -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.min.js" integrity="sha256-lSjKY0/srUM9BE3dPm+c4fBo1dky2v27Gdjm2uoZaL0=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>
    
    <!-- Leaflet (solo para index.html que tiene mapas) -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <script src="https://unpkg.com/esri-leaflet@3.0.12/dist/esri-leaflet.js"></script>
    <script src="https://unpkg.com/esri-leaflet-geocoder@3.1.4/dist/esri-leaflet-geocoder.js"></script>
    
    <!-- Otros scripts comunes -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap4-toggle@3.6.1/js/bootstrap4-toggle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.scrollbar/0.2.11/jquery.scrollbar.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/alertify.min.js"></script>
    
    <!-- Scripts locales de Yii -->
    <script src="assets/yii.js.descarga"></script>
    <script src="assets/yii.gridView.js.descarga"></script>
    <script src="assets/atlantis2.min.js.descarga"></script>
    <script src="assets/bootstrap-notify.min.js.descarga"></script>
    
    <!-- JavaScript unificado -->
    <script src="dist/app.min.js"></script>
</body>
</html>
```

---

## 5Ô∏è‚É£ PLANTILLA PARA ARCHIVOS EN INFORMES/

**Para archivos como:** `INFORMES/REPORTES/ERGO/ERGOESPIROMETRICO.html`

**Copiar esta secci√≥n `<head>`:**

```html
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Aiym Panel :: AIYM YUC</title>
    <meta content="width=device-width, initial-scale=1.0, shrink-to-fit=no" name="viewport">
    <link rel="icon" type="image/png" href="https://app.allinyourmind.es/web/require/img/favicon-32x32.png">
    
    <!-- CSRF -->
    <meta name="csrf-param" content="_csrf">
    <meta name="csrf-token" content="[MANTENER TOKEN EXISTENTE]">
    
    <!-- CSS Unificado (ajustar ruta) -->
    <link rel="stylesheet" href="../../../dist/styles.min.css">
</head>
```

**Copiar scripts antes de `</body>`:**

```html
    <!-- Librer√≠as CDN -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.min.js" integrity="sha256-lSjKY0/srUM9BE3dPm+c4fBo1dky2v27Gdjm2uoZaL0=" crossorigin="anonymous"></script>
    
    <!-- Highcharts (solo para p√°ginas de informes/gr√°ficas) -->
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/highcharts-more.js"></script>
    <script src="https://code.highcharts.com/modules/series-label.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/modules/export-data.js"></script>
    <script src="https://code.highcharts.com/modules/accessibility.js"></script>
    
    <!-- html2canvas y jsPDF (para exportar a PDF) -->
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    
    <!-- Scripts Yii locales -->
    <script src="../../../assets/yii.js.descarga"></script>
    <script src="../../../assets/yii.validation.js.descarga"></script>
    <script src="../../../assets/yii.activeForm.js.descarga"></script>
    <script src="../../../assets/atlantis2.min.js.descarga"></script>
    <script src="../../../assets/bootstrap-notify.min.js.descarga"></script>
    
    <!-- App unificada -->
    <script src="../../../dist/app.min.js"></script>
</body>
```

---

## 6Ô∏è‚É£ EJEMPLO DE CONVERSI√ìN WebP

**Copiar este c√≥digo HTML para usar im√°genes WebP con fallback:**

```html
<!-- Para una imagen de atleta -->
<picture>
  <source srcset="assets/atleta_250627122315_2417.webp" type="image/webp">
  <source srcset="assets/atleta_250627122315_2417.jpeg" type="image/jpeg">
  <img src="assets/atleta_250627122315_2417.jpeg" 
       alt="Foto del atleta" 
       loading="lazy" 
       class="tu-clase-css">
</picture>

<!-- Para im√°genes en carpetas anidadas -->
<picture>
  <source srcset="../../../assets/imagen.webp" type="image/webp">
  <img src="../../../assets/imagen.jpg" alt="Descripci√≥n" loading="lazy">
</picture>
```

---

## 7Ô∏è‚É£ SCRIPT PARA CONVERTIR IM√ÅGENES A WebP

**Guardar como:** `convert-images.sh` en la ra√≠z del proyecto

```bash
#!/bin/bash
# Script para convertir todas las im√°genes a WebP
# Requiere: cwebp (instalar con: sudo apt-get install webp)

echo "üîÑ Convirtiendo im√°genes a WebP..."

cd assets

# Contador
count=0

# Convertir JPG y JPEG
for file in *.{jpg,jpeg,JPG,JPEG}; do
    if [ -f "$file" ]; then
        filename="${file%.*}"
        # Convertir con calidad 85
        cwebp -q 85 "$file" -o "${filename}.webp" 2>/dev/null
        if [ $? -eq 0 ]; then
            original_size=$(du -h "$file" | cut -f1)
            new_size=$(du -h "${filename}.webp" | cut -f1)
            echo "‚úì $file ($original_size) ‚Üí ${filename}.webp ($new_size)"
            ((count++))
        fi
    fi
done

# Convertir PNG
for file in *.{png,PNG}; do
    if [ -f "$file" ]; then
        filename="${file%.*}"
        # Para PNG usar calidad 90 (pueden ser logos/iconos)
        cwebp -q 90 "$file" -o "${filename}.webp" 2>/dev/null
        if [ $? -eq 0 ]; then
            original_size=$(du -h "$file" | cut -f1)
            new_size=$(du -h "${filename}.webp" | cut -f1)
            echo "‚úì $file ($original_size) ‚Üí ${filename}.webp ($new_size)"
            ((count++))
        fi
    fi
done

echo ""
echo "‚úÖ ¬°Conversi√≥n completada!"
echo "üìä Total de im√°genes convertidas: $count"
echo ""
echo "üìù Pr√≥ximos pasos:"
echo "   1. Revisar las im√°genes WebP generadas"
echo "   2. Actualizar el HTML usando la etiqueta <picture>"
echo "   3. Mantener las im√°genes originales como fallback"
```

**Para ejecutar el script:**

```bash
chmod +x convert-images.sh
./convert-images.sh
```

---

## 8Ô∏è‚É£ TABLA DE RUTAS RELATIVAS

Usa esta tabla para ajustar las rutas seg√∫n la ubicaci√≥n del archivo HTML:

| Archivo HTML | Ruta a dist/styles.min.css | Ruta a dist/app.min.js |
|--------------|---------------------------|------------------------|
| index.html | `dist/styles.min.css` | `dist/app.min.js` |
| ATLETAS/*.html | `../dist/styles.min.css` | `../dist/app.min.js` |
| ATLETAS/EDITAR/*.html | `../../dist/styles.min.css` | `../../dist/app.min.js` |
| ATLETAS/DASHBORD/*.html | `../../dist/styles.min.css` | `../../dist/app.min.js` |
| ATLETAS/DASHBORD/Entrevista/*.html | `../../../dist/styles.min.css` | `../../../dist/app.min.js` |
| INFORMES/REPORTES/*.html | `../../dist/styles.min.css` | `../../dist/app.min.js` |
| INFORMES/REPORTES/ERGO/*.html | `../../../dist/styles.min.css` | `../../../dist/app.min.js` |
| MACRO/*.html | `../dist/styles.min.css` | `../dist/app.min.js` |
| MESO/*.html | `../dist/styles.min.css` | `../dist/app.min.js` |
| MICRO/*.html | `../dist/styles.min.css` | `../dist/app.min.js` |

---

## 9Ô∏è‚É£ LISTA DE ARCHIVOS PARA ELIMINAR

**Copiar estos comandos para eliminar archivos no necesarios:**

```bash
# Eliminar archivos de Circuitos
rm "POSIBLES NO NECESARIOS/Circuitos/CIRCUITOS EDITAR.html"
rm "POSIBLES NO NECESARIOS/Circuitos/CIRCUITOS EDITAR.js"
rm "POSIBLES NO NECESARIOS/Circuitos/CIRCUITOS EDITAR.css"
rm "POSIBLES NO NECESARIOS/Circuitos/VISTA PREVIA.html"
rm "POSIBLES NO NECESARIOS/Circuitos/VISTA PREVIA.js"
rm "POSIBLES NO NECESARIOS/Circuitos/VISTA PREVIA.css"

# Eliminar archivos de DRILLS/NATACION BLOQUE
rm "POSIBLES NO NECESARIOS/DRILLS/NATACION BLOQUE/EDITAR DRILLS.html"
rm "POSIBLES NO NECESARIOS/DRILLS/NATACION BLOQUE/EDITAR DRILLS.js"
rm "POSIBLES NO NECESARIOS/DRILLS/NATACION BLOQUE/EDITAR DRILLS.css"
rm "POSIBLES NO NECESARIOS/DRILLS/NATACION BLOQUE/NATACION BLOQUE INICIO.html"
rm "POSIBLES NO NECESARIOS/DRILLS/NATACION BLOQUE/NATACION BLOQUE INICIO.js"
rm "POSIBLES NO NECESARIOS/DRILLS/NATACION BLOQUE/NATACION BLOQUE INICIO.css"

# Eliminar archivos de DRILLS/NATACION SESION
rm "POSIBLES NO NECESARIOS/DRILLS/NATACION SESION/EITAR CIRCUITOS DRILSS.html"
rm "POSIBLES NO NECESARIOS/DRILLS/NATACION SESION/EITAR CIRCUITOS DRILSS.js"
rm "POSIBLES NO NECESARIOS/DRILLS/NATACION SESION/EITAR CIRCUITOS DRILSS.css"
rm "POSIBLES NO NECESARIOS/DRILLS/NATACION SESION/INICIO NATACION SESISON.html"
rm "POSIBLES NO NECESARIOS/DRILLS/NATACION SESION/INICIO NATACION SESISON.js"
rm "POSIBLES NO NECESARIOS/DRILLS/NATACION SESION/INICIO NATACION SESISON.css"

# Eliminar archivos de EJERCICIO
rm "POSIBLES NO NECESARIOS/EJERCICIO/EDITAR EJERCICIO.html"
rm "POSIBLES NO NECESARIOS/EJERCICIO/EDITAR EJERCICIO.js"
rm "POSIBLES NO NECESARIOS/EJERCICIO/EDITAR EJERCICIO.css"
rm "POSIBLES NO NECESARIOS/EJERCICIO/LISTADO DE EJERCICIOS.html"
rm "POSIBLES NO NECESARIOS/EJERCICIO/LISTADO DE EJERCICIOS.js"
rm "POSIBLES NO NECESARIOS/EJERCICIO/LISTADO DE EJERCICIOS.css"
rm "POSIBLES NO NECESARIOS/EJERCICIO/editor ejercicio.html"
rm "POSIBLES NO NECESARIOS/EJERCICIO/editor ejercicio.js"
rm "POSIBLES NO NECESARIOS/EJERCICIO/editor ejercicio.css"

# Eliminar archivos de SESION
rm "POSIBLES NO NECESARIOS/SESION/AGREGAR REGISTRO SESION.html"
rm "POSIBLES NO NECESARIOS/SESION/AGREGAR REGISTRO SESION.js"
rm "POSIBLES NO NECESARIOS/SESION/AGREGAR REGISTRO SESION.css"

echo "‚úÖ 30 archivos no necesarios eliminados"
```

**‚ö†Ô∏è NO ELIMINAR estos archivos (a√∫n est√°n en uso):**
- POSIBLES NO NECESARIOS/Circuitos/INICIO CIRCUITO.*
- POSIBLES NO NECESARIOS/DRILLS/INICIO DRILLS.*
- POSIBLES NO NECESARIOS/EJERCICIO/EJERCICIO INICIO.*
- POSIBLES NO NECESARIOS/SESION/SESION INICIO.*

---

## üîü CHECKLIST DE IMPLEMENTACI√ìN

```markdown
### Paso 1: Verificar archivos generados
- [ ] Verificar que existe dist/styles.min.css
- [ ] Verificar que existe dist/app.min.js
- [ ] Verificar tama√±os de archivos

### Paso 2: Actualizar HTML (empezar con 1 archivo)
- [ ] Actualizar ATLETAS/Atletas INICIO.html primero
- [ ] Probar que carga correctamente
- [ ] Verificar estilos
- [ ] Verificar funcionalidad JavaScript

### Paso 3: Actualizar resto de archivos HTML
- [ ] Actualizar index.html
- [ ] Actualizar archivos en MACRO/
- [ ] Actualizar archivos en MESO/
- [ ] Actualizar archivos en MICRO/
- [ ] Actualizar archivos en ATLETAS/
- [ ] Actualizar archivos en INFORMES/

### Paso 4: Optimizar im√°genes
- [ ] Instalar herramienta de conversi√≥n WebP
- [ ] Ejecutar script de conversi√≥n
- [ ] Actualizar HTML con etiquetas <picture>
- [ ] Probar en diferentes navegadores

### Paso 5: Limpiar archivos
- [ ] Hacer backup del proyecto
- [ ] Eliminar 30 archivos no necesarios
- [ ] Verificar que todo funciona

### Paso 6: Verificaci√≥n final
- [ ] Probar todas las p√°ginas
- [ ] Verificar en Chrome
- [ ] Verificar en Firefox
- [ ] Verificar en Safari/Edge
- [ ] Medir rendimiento con PageSpeed Insights
```

---

## üìä RESULTADOS ESPERADOS

### Antes de la optimizaci√≥n:
- ~60-70 peticiones HTTP por p√°gina
- CSS: 37 archivos separados
- JS: 35+ archivos separados
- Im√°genes: ~35MB

### Despu√©s de la optimizaci√≥n:
- ~15-20 peticiones HTTP por p√°gina (-75%)
- CSS: 1 archivo minificado (801KB)
- JS: 1 archivo minificado (2.6MB) + CDN
- Im√°genes: ~10-12MB con WebP (-70%)

### Mejoras de rendimiento:
- ‚ö° Carga inicial 50-70% m√°s r√°pida
- üì¶ Menor uso de ancho de banda
- üöÄ Mejor experiencia en m√≥viles
- ‚úÖ Mejor puntuaci√≥n SEO

---

**üéâ ¬°Todo el c√≥digo est√° listo para copiar y usar directamente!**

**üìù Recuerda:**
1. Ajustar las rutas relativas seg√∫n la ubicaci√≥n de cada archivo
2. Mantener los tokens CSRF existentes
3. Probar despu√©s de cada cambio
4. Hacer backup antes de eliminar archivos
